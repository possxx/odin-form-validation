(()=>{const r={email:{inputWrapper:document.querySelector(".email-input-wrapper"),input:document.querySelector(".email-input"),label:document.querySelector(".email-label"),error:document.querySelector(".email-error"),constraint:/@+/},country:{inputWrapper:document.querySelector(".country-input-wrapper"),input:document.querySelector(".country-input"),label:document.querySelector(".country-label"),error:document.querySelector(".country-error")},zip:{inputWrapper:document.querySelector(".zip-input-wrapper"),input:document.querySelector(".zip-input"),label:document.querySelector(".zip-label"),error:document.querySelector(".zip-error")},password:{inputWrapper:document.querySelector(".password-input-wrapper"),input:document.querySelector(".password-input"),label:document.querySelector(".password-label"),error:document.querySelector(".password-error"),constraint:/^(?=.*[!@#$%^&*(),.?":{}|<>])(?=.*\d)[^\s]{8,}$/},confirmPassword:{inputWrapper:document.querySelector(".confirm-password-input-wrapper"),input:document.querySelector(".confirm-password-input"),label:document.querySelector(".confirm-password-label"),error:document.querySelector(".confirm-password-error")}};Array.from(r.country.input.children).forEach((r=>{const t=r.innerText.trim();t.length>32&&(r.innerText=`${t.slice(0,32)}...`)})),new class{constructor(r){this.email=r.email,this.country=r.country,this.zip=r.zip,this.password=r.password,this.confirmPassword=r.confirmPassword}isEmpty(r){return""===r.value}createErrorDOM(r){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("viewBox","0 -960 960 960"),i.setAttribute("d","M479.99-280q15.01 0 25.18-10.15 10.16-10.16 10.16-25.17 0-15.01-10.15-25.18-10.16-10.17-25.17-10.17-15.01 0-25.18 10.16-10.16 10.15-10.16 25.17 0 15.01 10.15 25.17Q464.98-280 479.99-280Zm-31.32-155.33h66.66V-684h-66.66v248.67ZM480.18-80q-82.83 0-155.67-31.5-72.84-31.5-127.18-85.83Q143-251.67 111.5-324.56T80-480.33q0-82.88 31.5-155.78Q143-709 197.33-763q54.34-54 127.23-85.5T480.33-880q82.88 0 155.78 31.5Q709-817 763-763t85.5 127Q880-563 880-480.18q0 82.83-31.5 155.67Q817-251.67 763-197.46q-54 54.21-127 85.84Q563-80 480.18-80Zm.15-66.67q139 0 236-97.33t97-236.33q0-139-96.87-236-96.88-97-236.46-97-138.67 0-236 96.87-97.33 96.88-97.33 236.46 0 138.67 97.33 236 97.33 97.33 236.33 97.33ZM480-480Z"),t.appendChild(i);const s=document.createElement("p");return s.innerText=r,{icon:t,message:s}}appendError(r,t){const i=r.error;console.log(i);const s=t;i.appendChild(s.icon),i.appendChild(s.message)}createError(r,t){this.appendError(r,this.createErrorDOM(t)),r.input.classList.add("error"),r.label.classList.add("error")}clearError(r){r.error.children&&(r.error.innerHTML="",r.input.classList.remove("error"),r.label.classList.remove("error"))}inputEmailError(){return""===this.email.input.value||this.email.constraint.test(this.email.input.value)?"":"Email address must contain an @ symbol!"}submitEmailError(){return""===this.email.input.value?"This field is required!":this.email.constraint.test(this.email.input.value)?"":"Email address must contain an @ symbol!"}submitCountryError(){return""===this.country.input.value?"This field is required!":""}submitZipError(){return""===this.zip.input.value?"This field is required!":""}inputPasswordError(){return""===this.password.input.value||this.password.constraint.test(this.password.input.value)?"":'Password must be at least 8 char. long, contain at least 1 special symbol (?=.*[!@#$%^&*(),.?":{}|<>]), at least 1 number and no spaces are allowed!'}submitPasswordError(){return""===this.password.input.value?"This field is required!":this.password.constraint.test(this.password.input.value)?"":'Password must be at least 8 char. long, contain at least 1 special symbol (?=.*[!@#$%^&*(),.?":{}|<>]), at least 1 number and no spaces are allowed!'}inputConfirmPasswordError(){return""===this.password.input.value||""===this.confirmPassword.input.value?"":this.confirmPassword.input.value!==this.password.input.value?"Passwords do not match!":""}submitConfirmPasswordError(){return""===this.confirmPassword.input.value?"This field is required!":this.confirmPassword.input.value!==this.password.input.value?"Passwords do not match!":""}initializeInputs(...r){r.forEach((r=>{r.input.addEventListener("change",(()=>{this.isEmpty(r.input)?r.label.classList.remove("full"):r.label.classList.add("full")})),r.input.addEventListener("input",(()=>{this.clearError(r)}))})),this.email.input.addEventListener("change",(()=>{this.inputEmailError()&&this.createError(this.email,this.inputEmailError())})),this.password.input.addEventListener("change",(()=>{this.inputPasswordError()&&this.createError(this.password,this.inputPasswordError()),this.confirmPassword.input.value&&this.inputConfirmPasswordError()&&this.createError(this.confirmPassword,this.inputConfirmPasswordError())})),this.password.input.addEventListener("input",(()=>{this.clearError(this.confirmPassword)})),this.confirmPassword.input.addEventListener("change",(()=>{this.inputConfirmPasswordError()&&this.createError(this.confirmPassword,this.inputConfirmPasswordError())}))}initializeForm(){this.initializeInputs({input:this.email.input,label:this.email.label,error:this.email.error},{input:this.country.input,label:this.country.label,error:this.country.error},{input:this.zip.input,label:this.zip.label,error:this.zip.error},{input:this.password.input,label:this.password.label,error:this.password.error},{input:this.confirmPassword.input,label:this.confirmPassword.label,error:this.confirmPassword.error}),document.querySelector(".create-account").addEventListener("click",(r=>{(this.submitEmailError()||this.submitCountryError()||this.submitZipError()||this.submitPasswordError()||this.submitConfirmPasswordError())&&r.preventDefault(),this.submitEmailError()&&(this.clearError(this.email),this.createError(this.email,this.submitEmailError())),this.submitCountryError()&&(this.clearError(this.country),this.createError(this.country,this.submitCountryError())),this.submitZipError()&&(this.clearError(this.zip),this.createError(this.zip,this.submitZipError())),this.submitPasswordError()&&(this.clearError(this.password),this.createError(this.password,this.submitPasswordError())),this.submitConfirmPasswordError()&&(this.clearError(this.confirmPassword),this.createError(this.confirmPassword,this.submitConfirmPasswordError()))}))}}(r).initializeForm()})();